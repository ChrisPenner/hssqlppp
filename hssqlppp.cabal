Name:                hssqlppp
Version:             0.3.0-pre
Synopsis:            SQL parser, quasiquoter, and type checker
License:             BSD3
License-file:        LICENSE
Author:              Jake Wheat
Maintainer:          jakewheatmail@gmail.com
Build-Type:          Simple
Cabal-Version:       >=1.2.3
copyright:           Copyright 2009, 2010 Jake Wheat
stability:           pre-alpha
homepage:            http://community.haskell.org/~JakeWheat/hssqlppp/index.html
bug-reports:         mailto:jakewheatmail@gmail.com
category:            Database
Description:
    SQL parser, quasiquoter, and type checker, targets PostgreSQL SQL
    and PL/pgSQL.
    .
    Documentation, examples on the homepage:
    <http://community.haskell.org/~JakeWheat/hssqlppp/index.html>.
    .
    * 'Annotation' - the annotation data types and utilities;
    .
    * 'Ast' - ast types;
    .
    * 'Catalog' - read a catalog from a database to type check against,
      or to generate catalog information;
    .
    * 'Parser' - converting strings to asts;
    .
    * 'PrettyPrinter' - converting asts to strings such that
      prettyPrint . parse == id;
    .
    * 'SqlTypes' - the data types which represent SQL types, the data
      type for type errors, and some support functions;
    .
    * 'SqlQuote' - quasiquote support for SQL;
    .
    * 'TypeChecker' - type checking and annotating asts and working
      with annotated trees.

extra-source-files:  README
                     LICENSE
                     testfiles/suppliers_and_parts.sql
                     --find src/ -iname '*ag'
                     src/Database/HsSqlPpp/AstInternals/AstInternal.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Triggers.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Dml.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/SelectStatement.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/TableRefs.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Plpgsql.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/TypeChecking.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Misc.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/CreateTable.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/CreateFunction.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Statements.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/SelectLists.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Expressions.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Drops.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/MiscCreates.ag
                     --find examples/ -iname '*hs'
                     examples/RunWrappers.lhs
                     examples/Database/HsSqlPpp/DevelTools/TestFileProcessor.lhs
                     examples/Database/HsSqlPpp/DevelTools/MakeAntiNodes.lhs
                     examples/Database/HsSqlPpp/DevelTools/DoChaosSql.lhs
                     examples/Database/HsSqlPpp/DevelTools/PandocUtils.lhs
                     examples/Database/HsSqlPpp/DevelTools/MakeWebsite.lhs
                     examples/Database/HsSqlPpp/Utils/Here.lhs
                     examples/Database/HsSqlPpp/Examples/DatabaseLoader.lhs
                     examples/Database/HsSqlPpp/Examples/AnnotateSource.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/GeneralInclusion.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/ExtensionTests.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/TransitionConstraints.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/Modules.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/SyntaxExtensions.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/CardinalityRestrict.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/CreateAssertion.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/Denormalized6nf.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/AlternateInsert.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/Denormalized6nfExamples.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/CreateVar.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/CreateVarSimple.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/CreateAssertionTests.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/FreeDefinitionOrder.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/ChaosExtensions.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/ExtensionsUtils.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/SimplifiedCatalog.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/DenormSyntax.lhs
                     examples/Database/HsSqlPpp/Examples/Extensions/AstUtils.lhs
                     examples/Database/HsSqlPpp/Examples/DBUtils.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/GenerateTupleSourceExample.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/MakeLabels.hs
                     examples/Database/HsSqlPpp/Examples/Wrappers/ConnectionString.hs
                     examples/Database/HsSqlPpp/Examples/Wrappers/WrapLib.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/ThHListWrapper.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/GenerateTupleWrapper.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/ThHListExample.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/ThTupleWrapper.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/ThTupleExample.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/SelectRelation.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/GenerateHListSourceExample.lhs
                     examples/Database/HsSqlPpp/Examples/Wrappers/GenerateHListWrapper.lhs
                     examples/Database/HsSqlPpp/Examples/AnnotateSource2.lhs
                     examples/Database/HsSqlPpp/Tests/ExtensionTests.lhs
                     examples/Database/HsSqlPpp/Tests/LocalBindingsTests.lhs
                     examples/Database/HsSqlPpp/Tests/ParserTests.lhs
                     examples/Database/HsSqlPpp/Tests/QuasiQuoteTests.lhs
                     examples/Database/HsSqlPpp/Tests/RoundtripTests.lhs
                     examples/Database/HsSqlPpp/Tests/TypeCheckTests.lhs
                     examples/Database/HsSqlPpp/Tests/ParameterizedStatementTests.lhs
                     examples/Database/HsSqlPpp/Tests/Tests.lhs
                     examples/HsSqlSystem.lhs

Flag executable
  Description:       Build the HsSqlSystem testing executable.
  Default:           False

source-repository head
  type:     bzr
  location: https://launchpad.net/+branch/~jakewheat/hssqlppp/trunk

Library
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell

  hs-source-dirs:    src

  Exposed-modules:   Database.HsSqlPpp.Ast
                     Database.HsSqlPpp.Annotation
                     Database.HsSqlPpp.Catalog
                     Database.HsSqlPpp.Parser
                     Database.HsSqlPpp.PrettyPrinter
                     Database.HsSqlPpp.SqlTypes
                     Database.HsSqlPpp.SqlQuote
                     Database.HsSqlPpp.TypeChecker

  Other-Modules:     Database.HsSqlPpp.Utils.Utils
                     Database.HsSqlPpp.AstInternals.AnnotationUtils
                     Database.HsSqlPpp.AstInternals.AstAnnotation
                     Database.HsSqlPpp.AstInternals.AstInternal
                     Database.HsSqlPpp.AstInternals.AstAnti
                     Database.HsSqlPpp.AstInternals.Catalog.CatalogInternal
                     Database.HsSqlPpp.AstInternals.Catalog.CatalogReader
                     Database.HsSqlPpp.AstInternals.Catalog.DefaultTemplate1Catalog
                     Database.HsSqlPpp.AstInternals.TypeType
                     Database.HsSqlPpp.AstInternals.TypeChecking.TypeConversion
                     Database.HsSqlPpp.AstInternals.TypeChecking.LocalBindings
                     Database.HsSqlPpp.AstInternals.TypeChecking.LocalBindingsInternal
                     Database.HsSqlPpp.AstInternals.TypeChecking.ErrorUtils
                     Database.HsSqlPpp.Utils.DbmsCommon
                     Database.HsSqlPpp.Parsing.Lexer
                     Database.HsSqlPpp.Parsing.ParseErrors
                     Database.HsSqlPpp.Parsing.ParserInternal

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification

Executable HsSqlSystem
  Main-Is:           HsSqlSystem.lhs
  hs-source-dirs:    src,examples
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell,
                     test-framework-hunit,
                     test-framework,
                     HUnit,
                     xhtml,
                     highlighting-kate,
                     filepath,
                     FileManip,
                     process,
                     pandoc,
                     directory,
                     Pipe,
                     haskell98,
                     cmdargs,
                     datetime

  if flag(executable)
    Buildable:       True
  else
    Buildable:       False

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification
