Name:                hssqlppp
Version:             0.3.0-pre
Synopsis:            SQL parser, quasiquoter, and type checker
License:             BSD3
License-file:        LICENSE
Author:              Jake Wheat
Maintainer:          jakewheatmail@gmail.com
Build-Type:          Simple
Cabal-Version:       >=1.6
copyright:           Copyright 2009, 2010 Jake Wheat
stability:           pre-alpha
homepage:            http://community.haskell.org/~JakeWheat/hssqlppp/index.html
bug-reports:         mailto:jakewheatmail@gmail.com
category:            Database
Description:
    SQL parser, quasiquoter, and type checker, targets PostgreSQL SQL
    and PL/pgSQL.
    .
    Documentation, examples on the homepage:
    <http://community.haskell.org/~JakeWheat/hssqlppp/index.html>.
    .
    Build flags:
    .
    * quasiquotes: compile with the quasi quoting support. The main
      purpose is to be able to not depend on template-haskell if you
      don't need the quasi quotes, default is true
    .
    * postgres: compile with HDBC-postgresql - allows typechecking
      against a database amongst other things. This is mainly so that
      you can compile without HDBC-postgresql, e.g. if you just want a
      simple sql parser, default is true. You currently need to have
      quasiquotes flag on if you want to use this.
    .
    * binaries: compile the test, development, and example binaries:
      this brings in a whole load of dependencies. Default is false.
    .
    Building the binaries using cabal is _very_ slow. They are
    included here mainly to document all the extra package
    dependencies they have.

extra-source-files:  README
                     LICENSE
                     -- todo: add website stuff
                     --find src/ devel/ tests/ examples/ -iname '*.ag' -o -iname '.sql' -o -iname '*.txt' -o -iname '*.hs' -o -iname '*.lhs'
                     src/index.txt
                     src/Database/HsSqlPpp/Ast.lhs
                     src/Database/HsSqlPpp/Annotation.lhs
                     src/Database/HsSqlPpp/Utils/Utils.lhs
                     src/Database/HsSqlPpp/Utils/Here.lhs
                     src/Database/HsSqlPpp/Utils/DbmsCommon.lhs
                     src/Database/HsSqlPpp/AstInternals/AnnotationUtils.lhs
                     src/Database/HsSqlPpp/AstInternals/AstAnti.hs
                     src/Database/HsSqlPpp/AstInternals/AstAnnotation.lhs
                     src/Database/HsSqlPpp/AstInternals/AstInternal.hs
                     src/Database/HsSqlPpp/AstInternals/Catalog/CatalogInternal.lhs
                     src/Database/HsSqlPpp/AstInternals/Catalog/CatalogReader.lhs
                     src/Database/HsSqlPpp/AstInternals/Catalog/DefaultTemplate1Catalog.lhs
                     src/Database/HsSqlPpp/AstInternals/AstInternal.ag
                     src/Database/HsSqlPpp/AstInternals/TypeType.lhs
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Update.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Triggers.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/SelectStatement.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/TypeConversion.lhs
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/TableRefs.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Plpgsql.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Delete.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/TypeChecking.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/LocalBindings.lhs
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Block.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Misc.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/LocalBindingsInternal.lhs
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/ErrorUtils.lhs
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/CreateTable.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/CreateFunction.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Statements.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/SelectLists.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Insert.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Expressions.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/Drops.ag
                     src/Database/HsSqlPpp/AstInternals/TypeChecking/MiscCreates.ag
                     src/Database/HsSqlPpp/Parser.lhs
                     src/Database/HsSqlPpp/Catalog.lhs
                     src/Database/HsSqlPpp/PrettyPrinter.lhs
                     src/Database/HsSqlPpp/SqlTypes.lhs
                     src/Database/HsSqlPpp/SqlQuote.lhs
                     src/Database/HsSqlPpp/Parsing/Lexer.lhs
                     src/Database/HsSqlPpp/Parsing/ParserInternal.lhs
                     src/Database/HsSqlPpp/Parsing/ParseErrors.lhs
                     src/Database/HsSqlPpp/TypeChecker.lhs
                     devel/TestFileProcessor.lhs
                     devel/Text/DocTool/DocTool.lhs
                     devel/Text/DocTool/Parser.lhs
                     devel/MakeAntiNodes.lhs
                     devel/TestParser.lhs
                     devel/DoChaosSql.lhs
                     devel/AnnotateSource2.lhs
                     devel/MakeWebsite.lhs
                     tests/Database/HsSqlPpp/Tests/ExtensionTests.lhs
                     tests/Database/HsSqlPpp/Tests/LocalBindingsTests.lhs
                     tests/Database/HsSqlPpp/Tests/ParserTests.lhs
                     tests/Database/HsSqlPpp/Tests/TypeInferenceTests.lhs
                     tests/Database/HsSqlPpp/Tests/QuasiQuoteTests.lhs
                     tests/Database/HsSqlPpp/Tests/RoundtripTests.lhs
                     tests/Database/HsSqlPpp/Tests/TypeCheckTests.lhs
                     tests/Database/HsSqlPpp/Tests/ParameterizedStatementTests.lhs
                     tests/Database/HsSqlPpp/Tests/Tests.lhs
                     tests/Database/HsSqlPpp/Tests/LexicalSyntaxTests.lhs
                     tests/Tests.lhs
                     examples/wrappers/GenerateTupleSourceExample.lhs
                     examples/wrappers/MakeLabels.hs
                     examples/wrappers/ConnectionString.hs
                     examples/wrappers/WrapLib.lhs
                     examples/wrappers/ThHListWrapper.lhs
                     examples/wrappers/GenerateTupleWrapper.lhs
                     examples/wrappers/RunWrappers.lhs
                     examples/wrappers/ThHListExample.lhs
                     examples/wrappers/ThTupleWrapper.lhs
                     examples/wrappers/ThTupleExample.lhs
                     examples/wrappers/SelectRelation.lhs
                     examples/wrappers/GenerateHListSourceExample.lhs
                     examples/wrappers/GenerateHListWrapper.lhs
                     examples/chaos/Chaos2010.lhs
                     examples/chaos/Database/HsSqlPpp/Chaos/ChaosExtensions.lhs
                     examples/chaos/Database/HsSqlPpp/Chaos/ChaosFiles.lhs
                     examples/chaos/Overview.txt
                     examples/dbload/DatabaseLoader.lhs
                     examples/dbload/Database/HsSqlPpp/DatabaseLoader/DatabaseLoader.lhs
                     examples/dbload/Database/HsSqlPpp/DatabaseLoader/DBUtils.lhs
                     examples/hssqlppputil/HsSqlPppUtil.lhs
                     examples/index.txt
                     examples/extensions/Database/HsSqlPpp/Extensions/TemporalData.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/GeneralInclusion.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/ExtensionTests.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/TransitionConstraints.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/Modules.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/SyntaxExtensions.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/CardinalityRestrict.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/CreateAssertion.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/Denormalized6nf.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/AlternateInsert.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/Denormalized6nfExamples.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/CreateVar.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/CreateVarSimple.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/CreateAssertionTests.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/FreeDefinitionOrder.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/ExtensionsUtils.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/SimplifiedCatalog.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/DenormSyntax.lhs
                     examples/extensions/Database/HsSqlPpp/Extensions/AstUtils.lhs

Flag binaries
  Description:       Build the binaries
  Default:           False
Flag postgres
  Description:       Use HDBC-postgresql (disable to remove postgresql dependency)
  Default:           True

Flag quasiquotes
  Description:       Compile quasi quote support (disable to remove template-haskell dependency)
  Default:           True


source-repository head
  type:     bzr
  location: https://launchpad.net/+branch/~jakewheat/hssqlppp/trunk

Library
  Build-Depends:     base >= 4 && < 5,
                     mtl >= 1.1 && < 1.2,
                     containers,
                     parsec >= 3 && < 4,
                     pretty >= 1 && < 2,
                     syb >= 0.1 && < 1,
                     uniplate >= 1.5 && < 2

  if flag(postgres)
     Build-Depends:  HDBC >= 2.2 && < 3,
                     HDBC-postgresql >= 2.2 && < 3
     cpp-options:    -DPOSTGRES

  if flag(quasiquotes)
     Build-Depends:  template-haskell >= 2.4 && < 2.5
     --cpp-options:    -DSQLQUASIQUOTES


  ghc-options:       -pgmPcpphs -optP--cpp
  hs-source-dirs:    src

  Exposed-modules:   Database.HsSqlPpp.Ast
                     Database.HsSqlPpp.Annotation
                     Database.HsSqlPpp.Catalog
                     Database.HsSqlPpp.Parser
                     Database.HsSqlPpp.PrettyPrinter
                     Database.HsSqlPpp.SqlTypes
                     Database.HsSqlPpp.TypeChecker
  if flag(quasiquotes)
    Exposed-modules: Database.HsSqlPpp.SqlQuote

                     -- find src -iname '*hs' | sed -e "s@src/@@" | sed -e "s@/@.@g" |sed -e "s/.lhs//" |sed -e "s/.hs//"
  Other-Modules:     Database.HsSqlPpp.Utils.Utils
                     Database.HsSqlPpp.AstInternals.AnnotationUtils
                     Database.HsSqlPpp.AstInternals.AstAnti
                     Database.HsSqlPpp.AstInternals.AstAnnotation
                     Database.HsSqlPpp.AstInternals.AstInternal
                     Database.HsSqlPpp.AstInternals.Catalog.CatalogInternal
                     Database.HsSqlPpp.AstInternals.Catalog.DefaultTemplate1Catalog
                     Database.HsSqlPpp.AstInternals.TypeType
                     Database.HsSqlPpp.AstInternals.TypeChecking.TypeConversion
                     Database.HsSqlPpp.AstInternals.TypeChecking.LocalBindings
                     Database.HsSqlPpp.AstInternals.TypeChecking.LocalBindingsInternal
                     Database.HsSqlPpp.AstInternals.TypeChecking.ErrorUtils
                     Database.HsSqlPpp.Parsing.Lexer
                     Database.HsSqlPpp.Parsing.ParserInternal
                     Database.HsSqlPpp.Parsing.ParseErrors
  if flag(postgres)
     Other-Modules:  Database.HsSqlPpp.Utils.DbmsCommon
                     Database.HsSqlPpp.AstInternals.Catalog.CatalogReader



  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification,
                     CPP,
                     PatternGuards

Executable MakeWebsite
  Main-Is:           MakeWebsite.lhs
  hs-source-dirs:    src,devel,tests,examples/chaos,examples/extensions,examples/util,examples/wrappers
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell,
                     test-framework-hunit,
                     test-framework,
                     HUnit,
                     xhtml,
                     filepath,
                     FileManip,
                     process,
                     pandoc,
                     directory,
                     Pipe,
                     haskell98,
                     cmdargs,
                     datetime,
                     illuminate

  ghc-options:       -pgmPcpphs -optP--cpp
  cpp-options:       -DPOSTGRES

  if flag(binaries)
    Buildable:       True
  else
    Buildable:       False

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification,
                     CPP,
                     PatternGuards

Executable MakeAntiNodes
  Main-Is:           MakeAntiNodes.lhs
  hs-source-dirs:    src,devel,tests,examples/chaos,examples/extensions,examples/util,examples/wrappers
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell,
                     test-framework-hunit,
                     test-framework,
                     HUnit,
                     xhtml,
                     filepath,
                     FileManip,
                     process,
                     pandoc,
                     directory,
                     Pipe,
                     haskell98,
                     cmdargs,
                     datetime,
                     illuminate

  ghc-options:       -pgmPcpphs -optP--cpp
  cpp-options:       -DPOSTGRES

  if flag(binaries)
    Buildable:       True
  else
    Buildable:       False

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification,
                     CPP,
                     PatternGuards

Executable Chaos2010
  Main-Is:           Chaos2010.lhs
  hs-source-dirs:    src,devel,tests,examples/chaos,examples/extensions,examples/util,examples/wrappers
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell,
                     test-framework-hunit,
                     test-framework,
                     HUnit,
                     xhtml,
                     filepath,
                     FileManip,
                     process,
                     pandoc,
                     directory,
                     Pipe,
                     haskell98,
                     cmdargs,
                     datetime,
                     illuminate

  ghc-options:       -pgmPcpphs -optP--cpp
  cpp-options:       -DPOSTGRES

  if flag(binaries)
    Buildable:       True
  else
    Buildable:       False

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification,
                     CPP,
                     PatternGuards

Executable HsSqlPppUtil
  Main-Is:           HsSqlPppUtil.lhs
  hs-source-dirs:    src,devel,tests,examples/chaos,examples/extensions,examples/util,examples/wrappers
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell,
                     test-framework-hunit,
                     test-framework,
                     HUnit,
                     xhtml,
                     filepath,
                     FileManip,
                     process,
                     pandoc,
                     directory,
                     Pipe,
                     haskell98,
                     cmdargs,
                     datetime,
                     illuminate

  ghc-options:       -pgmPcpphs -optP--cpp
  cpp-options:       -DPOSTGRES

  if flag(binaries)
    Buildable:       True
  else
    Buildable:       False

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification,
                     CPP,
                     PatternGuards

Executable Tests
  Main-Is:           Tests.lhs
  hs-source-dirs:    src,devel,tests,examples/chaos,examples/extensions,examples/util,examples/wrappers
  Build-Depends:     base >= 4 && < 5,
                     mtl,
                     containers,
                     parsec >= 3,
                     pretty,
                     syb,
                     uniplate,
                     HDBC,
                     HDBC-postgresql,
                     haskell-src-exts,
                     template-haskell,
                     test-framework-hunit,
                     test-framework,
                     HUnit,
                     xhtml,
                     filepath,
                     FileManip,
                     process,
                     pandoc,
                     directory,
                     Pipe,
                     haskell98,
                     cmdargs,
                     datetime,
                     illuminate

  ghc-options:       -pgmPcpphs -optP--cpp
  cpp-options:       -DPOSTGRES

  if flag(binaries)
    Buildable:       True
  else
    Buildable:       False

  extensions:        DeriveDataTypeable,
                     RankNTypes,
                     ScopedTypeVariables,
                     FlexibleContexts,
                     ExistentialQuantification,
                     CPP,
                     PatternGuards
